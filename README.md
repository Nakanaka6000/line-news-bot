### **LINEニュースボット 要件定義**

#### 1. 概要
毎朝6時（日本時間）に、その時点での最新のドル円為替レートとS&P500指数を取得し、指定されたLINEアカウントにプッシュ通知で送信する自動化ボットを開発する。

#### 2. 機能要件
| 機能名 | 機能内容 |
| :--- | :--- |
| **1. 定時実行機能** | 毎日、日本時間(JST)の午前6:00に、情報取得からLINE通知までの一連の処理を自動的に実行する。 |
| **2. 金金融情報取得機能** | 外部の金融情報提供APIを利用して、以下の2つの情報を取得する。<br>・ドル円 (USD/JPY) の最新為替レート<br>・S&P500株価指数の最新値（または前日終値） |
| **3. メッセージ整形機能** | 取得した2つの金融情報を、以下のような人間が読みやすいテキストメッセージの形式に整形する。<br>（例）<br>【最新の金融情報】<br>・ドル円: 151.23円<br>・S&P500: 5,254.35 |
| **4. LINEメッセージ送信機能** | 整形したメッセージを、LINE Messaging APIを利用して、あらかじめ設定された特定のLINEユーザーID宛にプッシュ通知で送信する。 |

#### 3. 非機能要件
| 項目 | 内容 |
| :--- | :--- |
| **実行環境** | Vercelのサーバーレス環境を利用する。 |
| **使用技術** | ・バックエンド: Node.js<br>・定期実行: Vercel Cron Jobs |
| **外部サービス** | ・LINE Messaging API<br>・金融情報提供API (例: [Alpha Vantage](https://www.alphavantage.co/), [Finnhub](https://finnhub.io/)など) |
| **セキュリティ** | LINEのチャネルアクセストークンや外部サービスのAPIキーなどの機密情報は、Vercelの環境変数に設定し、ソースコード内には直接記述しない。 |

#### 4. 開発の前提条件
開発に着手する前に、以下の情報をご準備いただく必要があります。
1.  **LINE Developersコンソールでのチャネル作成**
    *   作成したチャネルの「チャネルアクセストークン (長期)」
    *   通知を受け取りたいご自身の「LINEユーザーID」
2.  **金融情報提供APIへの登録**
    *   利用するAPIの「APIキー」

#### 5. 開発ステップ案
1.  **プロジェクト初期設定**: Node.jsプロジェクトを作成し、Vercelにデプロイするための基本設定（`package.json`, `vercel.json`）を行う。
2.  **金融情報取得ロジックの実装**: 指定のAPIからドル円とS&P500の情報を取得するスクリプトを作成する。
3.  **LINE通知ロジックの実装**: 取得した情報を整形し、LINE Messaging APIへ送信するスクリプトを作成する。
4.  **APIエンドポイントの作成**: Vercelのサーバーレス関数として、上記2と3の処理をまとめたエンドポイントを作成する。
5.  **定期実行設定**: Vercelの`vercel.json`にCron Jobsの設定を記述し、毎朝6時に4で作成したAPIエンドポイントが呼び出されるように設定する。
6.  **デプロイと動作確認**: Vercelにデプロイし、指定した時間に正しく通知が届くかを確認する。
